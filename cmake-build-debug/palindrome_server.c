/*
 * This is sample code generated by rpcgen.
 * These are only templates and you can use them
 * as a guideline for developing your own functions.
 */

#include "palindrome.h"

int * add_1_svc(word *argp, struct svc_req *rqstp)
{
	static int  result;

	printf(" the word %s is sent ", argp->str);
    result = is_palindrome(argp->str);

	return &result;
}

int is_palindrome(char *string) {
    printf("string %s \n", string);
    char *ptr, *rev;

    ptr = string;

    while (*ptr != '\0') {
        ++ptr;
    }
    --ptr;

    for (rev = string; ptr >= rev;) {
        if (*ptr == *rev) {
            --ptr;
            rev++;
        }
        else
            break;
    }

    if (rev > ptr) {
        printf("String is Palindrome");
        return 1;
    }
    else {
        printf("String is not a Palindrome");
        return 0;
    }
}